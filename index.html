<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Group project</title>

    <!-- zimjs.com - JavaScript Canvas Framework -->
    <script src="https://zimjs.org/cdn/nft/00/zim.js"></script>

    <script>

        // See Docs under Frame for FIT, FILL, FULL, and TAG scaling modes
        const frame = new Frame(FIT, 1024, 768, light, dark);
        frame.on("ready", () => {
            const stage = frame.stage;
            let stageW = frame.width;
            let stageH = frame.height;

            // put your code here
            // radius is 50, diameter is 100
            const top = new Circle(50, blue)
                .pos(rand(100, 200), rand(50, 100)).drag()
            new Label({
                text: 'A',
                color: white
            }).center(top)
            const mid = new Circle(50, green)
                .pos(rand(300, 400), rand(300, 350)).drag()
            new Label({
                text: 'B',
                color: white
            }).center(mid)
            const bot = new Circle(50, yellow)
                .pos(rand(100, 200), rand(500, 550)).drag()
            new Label({
                text: 'C',
                color: white
            }).center(bot)
            const rightTop = new Circle(50, blue)
                .pos(rand(650, 750), rand(50, 100)).drag()
            const rightMid = new Circle(50, blue)
                .pos(rand(550, 650), rand(300, 350)).drag()
            const rightBot = new Circle(50, blue)
                .pos(rand(650, 750), rand(500, 550)).drag()
            rightTop.on('pressup', (e) => {
                if (top.hitTestCircles(e.target, -20) && stage.numChildren == 6) {
                    top.removeFrom()
                    e.target.removeFrom()
                    stage.update()
                } else {
                    e.target.animate({
                        props: { x: rand(650, 750), y: rand(50, 100) }
                    })
                }
                console.log(stage.numChildren)
            })
            rightMid.on('pressup', (e) => {
                if (mid.hitTestCircles(e.target, -20) && stage.numChildren == 4) {
                    mid.removeFrom()
                    e.target.removeFrom()
                    stage.update()
                } else {
                    e.target.animate({
                        props: { x: rand(550, 650), y: rand(300, 350) }
                    })
                }
            })
            rightBot.on('pressup', (e) => {
                if (bot.hitTestCircles(e.target, -20) && stage.numChildren == 2) {
                    bot.removeFrom()
                    e.target.removeFrom()
                    stage.update()
                } else {
                    e.target.animate({
                        props: { x: rand(650, 750), y: rand(500, 550) }
                    })
                }
            })
            if (stage.numChildren == 0) {
                console.log(0)
            }
            stage.update(); // needed to view changes
        });

    </script>
    <meta name="viewport" content="width=device-width, user-scalable=no" />
</head>

<body></body>

</html>